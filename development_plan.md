# План разработки Telegram бота и веб-приложения с обучающим пространством

## Общее описание проекта
Разработка Telegram бота и веб-приложения для обучающей платформы, где пользователи могут изучать темы, подтемы, отмечать избранные материалы и отслеживать завершенные уроки.

## Технический стек
- **Бэкенд**: Node.js с SQLite
- **Фронтенд**: Next.js
- **Telegram Bot API**: node-telegram-bot-api

## Структура базы данных (SQLite)

### Таблицы

1. **users**
   - id (INTEGER PRIMARY KEY)
   - telegram_id (INTEGER)
   - username (TEXT)
   - first_name (TEXT)
   - last_name (TEXT)
   - created_at (TIMESTAMP)

2. **topics**
   - id (INTEGER PRIMARY KEY)
   - title (TEXT)
   - description (TEXT)
   - image_url (TEXT)
   - created_at (TIMESTAMP)

3. **subtopics**
   - id (INTEGER PRIMARY KEY)
   - topic_id (INTEGER) - внешний ключ к topics
   - title (TEXT)
   - description (TEXT)
   - content (TEXT)
   - created_at (TIMESTAMP)

4. **favorites**
   - id (INTEGER PRIMARY KEY)
   - user_id (INTEGER) - внешний ключ к users
   - subtopic_id (INTEGER) - внешний ключ к subtopics
   - created_at (TIMESTAMP)

5. **completed_lessons**
   - id (INTEGER PRIMARY KEY)
   - user_id (INTEGER) - внешний ключ к users
   - subtopic_id (INTEGER) - внешний ключ к subtopics
   - completed_at (TIMESTAMP)

## Этапы разработки

### 1. Настройка проекта (1-2 дня)
- Инициализация Next.js проекта
- Настройка структуры проекта
- Настройка SQLite и создание схемы базы данных
- Настройка Telegram Bot API

### 2. Разработка бэкенда (3-5 дней)
- Создание API для работы с пользователями
- Создание API для работы с темами и подтемами
- Создание API для работы с избранными материалами
- Создание API для отслеживания завершенных уроков
- Интеграция с Telegram Bot API

### 3. Разработка Telegram бота (2-3 дня)
- Реализация команд для регистрации и авторизации
- Реализация команд для просмотра тем и подтем
- Реализация команд для добавления в избранное
- Реализация команд для отметки завершенных уроков
- Тестирование бота

### 4. Разработка веб-интерфейса (5-7 дней)
- Создание компонентов UI
- Реализация страницы авторизации
- Реализация страницы со списком тем
- Реализация страницы с подтемами
- Реализация страницы с содержимым урока
- Реализация страницы с избранными материалами
- Реализация страницы с завершенными уроками

### 5. Интеграция и тестирование (2-3 дня)
- Интеграция бэкенда с веб-интерфейсом
- Интеграция бэкенда с Telegram ботом
- Тестирование всех функций
- Исправление ошибок

### 6. Развертывание (1 день)
- Настройка сервера
- Развертывание бэкенда
- Развертывание веб-приложения
- Запуск Telegram бота

## Структура проекта

```
/
├── components/           # React компоненты
├── pages/               # Страницы Next.js
│   ├── api/            # API маршруты
│   ├── topics/         # Страницы тем
│   ├── subtopics/      # Страницы подтем
│   ├── favorites/      # Страница избранного
│   └── completed/      # Страница завершенных уроков
├── public/              # Статические файлы
├── styles/              # CSS стили
├── lib/                 # Вспомогательные функции
│   ├── db.js           # Работа с SQLite
│   └── telegram.js     # Работа с Telegram API
├── models/              # Модели данных
├── bot/                 # Код Telegram бота
└── database/            # SQLite база данных
```

## Функциональность

### Telegram бот
- Регистрация и авторизация пользователей
- Просмотр доступных тем и подтем
- Просмотр содержимого уроков
- Добавление материалов в избранное
- Отметка завершенных уроков
- Просмотр прогресса обучения

### Веб-приложение
- Авторизация через Telegram
- Просмотр всех доступных тем и подтем
- Просмотр содержимого уроков
- Управление избранными материалами
- Отслеживание завершенных уроков
- Просмотр статистики обучения

## Дополнительные возможности для будущего развития

- Добавление системы тестирования после уроков
- Интеграция с другими мессенджерами
- Добавление системы достижений
- Создание мобильного приложения
- Добавление возможности создания собственных курсов